{"version":3,"sources":["components/Page/Page.module.css","components/Button/Button.module.css","components/Button/Button.js","helpers/saveTime.js","helpers/changeToTime.js","components/Page/Page.js","App.js","index.js"],"names":["module","exports","Button","children","onBtnClick","type","className","styles","btn","onClick","saveTime","tempDate","savedTime","delta","Date","parse","Math","round","toConvert","data","toString","padStart","changeToTime","h","floor","min","sec","Page","intervalId","useRef","useState","setTime","clock","setClock","isRun","setIsRun","fixedClock","setFixedClock","wait","setWait","subject","Subject","timeStore","init","next","subscribe","startTime","clearTime","clearInterval","current","resetTime","waitTime","howTimeWait","now","useLayoutEffect","setInterval","clockBlock","buttonBlock","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uGACAA,EAAOC,QAAU,CAAC,WAAa,yBAAyB,YAAc,4B,iBCAtED,EAAOC,QAAU,CAAC,IAAM,sB,gJCET,SAASC,EAAT,GAA2C,IAAzBC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,WACzC,OACE,wBAAQC,KAAK,OAAOC,UAAWC,IAAOC,IAAKC,QAASL,EAApD,SACGD,ICNP,IAMeO,EANE,SAACC,GAA6B,IAAnBC,EAAkB,uDAAN,EAChCC,GACHC,KAAKC,MAAM,IAAID,MAAUA,KAAKC,MAAMJ,IAAa,IAAOC,EAC3D,OAAOI,KAAKC,MAAMJ,ICIdK,EAAY,SAAAC,GAAI,OAAIA,EAAKC,WAAWC,SAAS,EAAG,MACvCC,EARM,SAAAT,GACnB,IAAMU,EAAIL,EAAUF,KAAKQ,MAAMX,EAAQ,OACjCY,EAAMP,EAAUF,KAAKQ,MAAMX,EAAQ,GAAS,GAAJU,IACxCG,EAAMR,EAAUF,KAAKQ,MAAMX,EAAQ,KAEzC,MADc,UAAMU,EAAN,cAAaE,EAAb,cAAsBC,I,wBCIvB,SAASC,IAEtB,IAAMC,EAAaC,mBAFU,EAGLC,mBAAS,IAAIhB,MAHR,mBAGhBiB,GAHgB,aAIHD,mBAAS,GAJN,mBAItBE,EAJsB,KAIfC,EAJe,OAKHH,oBAAS,GALN,mBAKtBI,EALsB,KAKfC,EALe,OAMOL,mBAAS,GANhB,mBAMtBM,EANsB,KAMVC,EANU,OAOLP,mBAAS,GAPJ,mBAOtBQ,EAPsB,KAOhBC,EAPgB,KASvBC,EAAU,IAAIC,IAEdC,EAAY,CAChBC,KAAM,WACJH,EAAQI,KAAKV,IAEfW,UAAW,SAAAV,GAAQ,OAAIK,EAAQK,UAAUV,IACzCW,UAAW,WACTb,EAAS,IAAInB,MACbqB,GAAS,GACTK,EAAQI,QAEVG,UAAW,WACTZ,GAAS,GACTa,cAAcpB,EAAWqB,SACzBZ,EAAc,GACdJ,EAAS,IAAInB,MACb0B,EAAQI,QAEVM,UAAW,WACTb,EAAc,GACdJ,EAAS,IAAInB,MACb0B,EAAQI,QAEVO,SAAU,WACHb,GAIDJ,EAASkB,EAAYd,IAAS,MAChCH,GAAS,GACTE,EAAc3B,EAASsB,EAAOI,IAC9BY,cAAcpB,EAAWqB,UAE3BV,EAAQ,GACRC,EAAQI,QATNL,EAAQzB,KAAKuC,SAcnBC,2BAAgB,WAId,OAHIpB,IACFN,EAAWqB,QAAUM,aAAY,kBAAMxB,EAAQ,IAAIjB,QAAS,MAEvD,kBAAM,kBAAMkC,cAAcpB,EAAWqB,aAC3C,CAACf,IAEJ,IAAMkB,EAAc,SAAAzC,GAElB,OADgBG,KAAKuC,MAAQ1C,GAM/B,OACE,qCACE,qBAAKL,UAAWC,IAAOiD,WAAvB,SAEMlC,EADHY,EACgBxB,EAASsB,EAAOI,GAChBA,KAEnB,sBAAK9B,UAAWC,IAAOkD,YAAvB,UACE,cAACvD,EAAD,CAAQE,WAAY8B,EAAQQ,EAAUK,UAAYL,EAAUI,UAA5D,SACE,4BAAIZ,EAAQ,OAAS,YAEvB,cAAChC,EAAD,CAAQE,WAAYsC,EAAUS,SAA9B,SACE,uCAEF,cAACjD,EAAD,CAAQE,WAAYsC,EAAUQ,UAA9B,SACE,iD,MCxEKQ,MATf,WACE,OACE,sBAAKpD,UAAU,MAAf,UACE,oBAAIA,UAAU,QAAd,6BACA,cAACqB,EAAD,Q,YCHNgC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.9e3f4007.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"clockBlock\":\"Page_clockBlock__Kf8OY\",\"buttonBlock\":\"Page_buttonBlock__3tIXt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__30aep\"};","import React from 'react';\nimport styles from './Button.module.css';\n\nexport default function Button({ children, onBtnClick }) {\n  return (\n    <button type=\"text\" className={styles.btn} onClick={onBtnClick}>\n      {children}\n    </button>\n  );\n}\n","const saveTime = (tempDate, savedTime = 0) => {\n  const delta =\n    (Date.parse(new Date()) - Date.parse(tempDate)) / 1000 + savedTime;\n  return Math.round(delta);\n};\n\nexport default saveTime;\n","const changeToTime = delta => {\n  const h = toConvert(Math.floor(delta / 3600));\n  const min = toConvert(Math.floor(delta / 60 - h * 60));\n  const sec = toConvert(Math.floor(delta % 60));\n  const fullTime = `${h} : ${min} : ${sec}`;\n  return fullTime;\n};\nconst toConvert = data => data.toString().padStart(2, '0');\nexport default changeToTime;\n","import React, { useState, useEffect, useRef, useLayoutEffect } from 'react';\nimport Button from '../Button/Button';\nimport saveTime from '../../helpers/saveTime';\nimport changeToTime from '../../helpers/changeToTime';\nimport styles from './Page.module.css';\nimport {Subject } from 'rxjs';\n\n\nexport default function Page() {\n\n  const intervalId = useRef();\n  const [time, setTime] = useState(new Date());\n  const [clock, setClock] = useState(0);\n  const [isRun, setIsRun] = useState(false);\n  const [fixedClock, setFixedClock] = useState(0);\n  const [wait, setWait] = useState(0);\n  \n  const subject = new Subject();\n\n  const timeStore = {\n    init: () => {\n      subject.next(isRun)\n    },\n    subscribe: setIsRun => subject.subscribe(setIsRun),\n    startTime: () => {\n      setClock(new Date());\n      setIsRun(true);\n      subject.next();\n    },\n    clearTime: () => {\n      setIsRun(false);\n      clearInterval(intervalId.current);\n      setFixedClock(0);\n      setClock(new Date());\n      subject.next();\n    },\n    resetTime: () => {\n      setFixedClock(0);\n      setClock(new Date());\n      subject.next();\n    },\n    waitTime: () => {\n      if (!wait) {\n        setWait(Date.now());\n        return;\n      }\n      if (isRun & (howTimeWait(wait) <= 300)) {\n        setIsRun(false);\n        setFixedClock(saveTime(clock, fixedClock));\n        clearInterval(intervalId.current);\n      }\n      setWait(0);\n      subject.next();\n    },\n   \n  };\n\n  useLayoutEffect(() => {\n    if (isRun) {\n      intervalId.current = setInterval(() => setTime(new Date()), 1000);\n    }\n    return () => () => clearInterval(intervalId.current);\n  }, [isRun]);\n\n  const howTimeWait = tempDate => {\n    const howTime = Date.now() - tempDate;\n    return howTime;\n  };\n\n\n\n  return (\n    <>\n      <div className={styles.clockBlock}>\n        {isRun\n          ? changeToTime(saveTime(clock, fixedClock))\n          : changeToTime(fixedClock)}\n      </div>\n      <div className={styles.buttonBlock}>\n        <Button onBtnClick={isRun ? timeStore.clearTime : timeStore.startTime}>\n          <p>{isRun ? 'Stop' : 'Start'}</p>\n        </Button>\n        <Button onBtnClick={timeStore.waitTime}>\n          <p>Wait</p>\n        </Button>\n        <Button onBtnClick={timeStore.resetTime}>\n          <span>Reset</span>\n        </Button>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport Page from './components/Page/Page';\nimport './styles/App.css';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1 className=\"title\">Timer with RxJs</h1>\n      <Page />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles/index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}